{"id":"65766334-1ae1-4f7d-a99d-1e3b91630ca1","revision":0,"last_node_id":23,"last_link_id":12,"nodes":[{"id":11,"type":"Note","pos":[8301.05078125,701.9719848632812],"size":[283.02984619140625,88],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.2.2","input_ue_unconnectable":{}}},"widgets_values":["First audio is the voice to clone"],"color":"#432","bgcolor":"#653"},{"id":3,"type":"IndexTTS2Simple","pos":[8624.7353515625,1086.0533447265625],"size":[400,256],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":6},{"localized_name":"emotion_audio","name":"emotion_audio","shape":7,"type":"AUDIO","link":9},{"localized_name":"emotion_vector","name":"emotion_vector","shape":7,"type":"EMOTION_VECTOR","link":7},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null},{"localized_name":"emotion_control_weight","name":"emotion_control_weight","type":"FLOAT","widget":{"name":"emotion_control_weight"},"link":null},{"localized_name":"use_fp16","name":"use_fp16","shape":7,"type":"BOOLEAN","widget":{"name":"use_fp16"},"link":null},{"localized_name":"output_gain","name":"output_gain","shape":7,"type":"FLOAT","widget":{"name":"output_gain"},"link":null}],"outputs":[{"localized_name":"AUDIO","name":"AUDIO","type":"AUDIO","links":[10]},{"localized_name":"STRING","name":"STRING","type":"STRING","links":[]}],"properties":{"aux_id":"snicolast/ComfyUI-IndexTTS2","ver":"a326daa293593f0916fcd1450d16087f998913a4","Node name for S&R":"IndexTTS2Simple","ue_properties":{"widget_ue_connectable":{"text":true,"emotion_control_weight":true},"version":"7.1","input_ue_unconnectable":{}}},"widgets_values":["I can't believe what I see! Thanks!",1,false,1],"color":"#233","bgcolor":"#355"},{"id":17,"type":"Note","pos":[8623.572265625,875.7151489257812],"size":[398.1340637207031,141.89796447753906],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.2.2","input_ue_unconnectable":{}}},"widgets_values":["Connect only the emotion you want to use.\n \n---If you want the original audio, just connect audio.\n---If you want from a second audio, just connect original audio to clone + emotion_audio.\n---If you want to use vectors: connect original audio to clone + Emotion Vector node OR Emotion From Text node.\n\nFor better quality keep fp16 OFF."],"color":"#432","bgcolor":"#653"},{"id":22,"type":"Note","pos":[7888.0966796875,918.4471435546875],"size":[268.6772155761719,97.32058715820312],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.2.2","input_ue_unconnectable":{}}},"widgets_values":["Advanced node to expose more parameters"],"color":"#432","bgcolor":"#653"},{"id":12,"type":"LoadAudio","pos":[8306.7119140625,840.7532348632812],"size":[274.080078125,136],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"COMBO","widget":{"name":"audio"},"link":null},{"localized_name":"audioUI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"AUDIOUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"AUDIO","name":"AUDIO","type":"AUDIO","links":[6]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"LoadAudio","ue_properties":{"widget_ue_connectable":{"audio":true,"audioUI":true,"upload":true},"version":"7.2.2","input_ue_unconnectable":{}}},"widgets_values":["voiceover.mp3",null,null]},{"id":18,"type":"LoadAudio","pos":[8306.9951171875,1220.701416015625],"size":[274.080078125,136],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"COMBO","widget":{"name":"audio"},"link":null},{"localized_name":"audioUI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"AUDIOUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"AUDIO","name":"AUDIO","type":"AUDIO","links":[9]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"LoadAudio","ue_properties":{"widget_ue_connectable":{"audio":true,"audioUI":true,"upload":true},"version":"7.2.2","input_ue_unconnectable":{}}},"widgets_values":["amb05.mp3",null,null]},{"id":14,"type":"Note","pos":[8302.513671875,1080.736572265625],"size":[283.02984619140625,88],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.2.2","input_ue_unconnectable":{}}},"widgets_values":["Optional: Second audio (emotion_audio) is the added emotion\nIf no emotion audio provided, the emotion is used from the original audio."],"color":"#432","bgcolor":"#653"},{"id":8,"type":"IndexTTS2EmotionVector","pos":[8297.052734375,1464.6944580078125],"size":[270,250],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"happy","name":"happy","type":"FLOAT","widget":{"name":"happy"},"link":null},{"localized_name":"angry","name":"angry","type":"FLOAT","widget":{"name":"angry"},"link":null},{"localized_name":"sad","name":"sad","type":"FLOAT","widget":{"name":"sad"},"link":null},{"localized_name":"afraid","name":"afraid","type":"FLOAT","widget":{"name":"afraid"},"link":null},{"localized_name":"disgusted","name":"disgusted","type":"FLOAT","widget":{"name":"disgusted"},"link":null},{"localized_name":"melancholic","name":"melancholic","type":"FLOAT","widget":{"name":"melancholic"},"link":null},{"localized_name":"surprised","name":"surprised","type":"FLOAT","widget":{"name":"surprised"},"link":null},{"localized_name":"calm","name":"calm","type":"FLOAT","widget":{"name":"calm"},"link":null}],"outputs":[{"localized_name":"EMOTION_VECTOR","name":"EMOTION_VECTOR","type":"EMOTION_VECTOR","links":[7]}],"properties":{"aux_id":"snicolast/ComfyUI-IndexTTS2","ver":"a326daa293593f0916fcd1450d16087f998913a4","Node name for S&R":"IndexTTS2EmotionVector","ue_properties":{"widget_ue_connectable":{"happy":true,"angry":true,"sad":true,"afraid":true,"disgusted":true,"melancholic":true,"surprised":true,"calm":true},"version":"7.1","input_ue_unconnectable":{}}},"widgets_values":[1.4,0,0,0,0,0,0,0],"color":"#233","bgcolor":"#355"},{"id":16,"type":"Note","pos":[8305.8291015625,1762.250244140625],"size":[661.0745849609375,88],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.2.2","input_ue_unconnectable":{}}},"widgets_values":["You can use Emotion vectors or Emotion from text. Emotion from text will translate your text into vectors.\n*Do not exceed 1.50 as the sum of all vectors."],"color":"#432","bgcolor":"#653"},{"id":6,"type":"IndexTTS2EmotionFromText","pos":[8580.849609375,1457.951171875],"size":[400,200],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"EMOTION_VECTOR","name":"EMOTION_VECTOR","type":"EMOTION_VECTOR","links":null},{"localized_name":"STRING","name":"STRING","type":"STRING","links":[]}],"properties":{"aux_id":"snicolast/ComfyUI-IndexTTS2","ver":"a326daa293593f0916fcd1450d16087f998913a4","Node name for S&R":"IndexTTS2EmotionFromText","ue_properties":{"widget_ue_connectable":{"text":true},"version":"7.1","input_ue_unconnectable":{}}},"widgets_values":["slightly surprised and sad"],"color":"#233","bgcolor":"#355"},{"id":21,"type":"IndexTTS2Advanced","pos":[7822.51513671875,1079.2333984375],"size":[400,584],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":null},{"localized_name":"emotion_audio","name":"emotion_audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"emotion_vector","name":"emotion_vector","shape":7,"type":"EMOTION_VECTOR","link":null},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null},{"localized_name":"emotion_control_weight","name":"emotion_control_weight","type":"FLOAT","widget":{"name":"emotion_control_weight"},"link":null},{"localized_name":"use_random_style","name":"use_random_style","shape":7,"type":"BOOLEAN","widget":{"name":"use_random_style"},"link":null},{"localized_name":"interval_silence_ms","name":"interval_silence_ms","shape":7,"type":"INT","widget":{"name":"interval_silence_ms"},"link":null},{"localized_name":"max_text_tokens_per_segment","name":"max_text_tokens_per_segment","shape":7,"type":"INT","widget":{"name":"max_text_tokens_per_segment"},"link":null},{"localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"do_sample","name":"do_sample","shape":7,"type":"BOOLEAN","widget":{"name":"do_sample"},"link":null},{"localized_name":"temperature","name":"temperature","shape":7,"type":"FLOAT","widget":{"name":"temperature"},"link":null},{"localized_name":"top_p","name":"top_p","shape":7,"type":"FLOAT","widget":{"name":"top_p"},"link":null},{"localized_name":"top_k","name":"top_k","shape":7,"type":"INT","widget":{"name":"top_k"},"link":null},{"localized_name":"repetition_penalty","name":"repetition_penalty","shape":7,"type":"FLOAT","widget":{"name":"repetition_penalty"},"link":null},{"localized_name":"length_penalty","name":"length_penalty","shape":7,"type":"FLOAT","widget":{"name":"length_penalty"},"link":null},{"localized_name":"num_beams","name":"num_beams","shape":7,"type":"INT","widget":{"name":"num_beams"},"link":null},{"localized_name":"max_mel_tokens","name":"max_mel_tokens","shape":7,"type":"INT","widget":{"name":"max_mel_tokens"},"link":null},{"localized_name":"typical_sampling","name":"typical_sampling","shape":7,"type":"BOOLEAN","widget":{"name":"typical_sampling"},"link":null},{"localized_name":"typical_mass","name":"typical_mass","shape":7,"type":"FLOAT","widget":{"name":"typical_mass"},"link":null},{"localized_name":"speech_speed","name":"speech_speed","shape":7,"type":"FLOAT","widget":{"name":"speech_speed"},"link":null},{"localized_name":"use_fp16","name":"use_fp16","shape":7,"type":"BOOLEAN","widget":{"name":"use_fp16"},"link":null},{"localized_name":"output_gain","name":"output_gain","shape":7,"type":"FLOAT","widget":{"name":"output_gain"},"link":null}],"outputs":[{"localized_name":"AUDIO","name":"AUDIO","type":"AUDIO","links":null},{"localized_name":"STRING","name":"STRING","type":"STRING","links":null}],"properties":{"aux_id":"snicolast/ComfyUI-IndexTTS2","ver":"0271de7c1d23404a64aa34c40a6ef966bd079d9e","Node name for S&R":"IndexTTS2Advanced","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.2.2"}},"widgets_values":["",1,false,200,120,753239058,"randomize",true,0.8,0.8,30,10,0,3,1500,false,0.9,1,false,1],"color":"#233","bgcolor":"#355"},{"id":20,"type":"Note","pos":[9083.5869140625,925.5037231445312],"size":[268.6772155761719,97.32058715820312],"flags":{},"order":10,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.2.2","input_ue_unconnectable":{}}},"widgets_values":["Tweak parameters for wan/mp3 for more output control."],"color":"#432","bgcolor":"#653"},{"id":19,"type":"IndexTTS2SaveAudio","pos":[9080.134765625,1080.5081787109375],"size":[270,174],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":10},{"localized_name":"name","name":"name","type":"STRING","widget":{"name":"name"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"normalize_peak","name":"normalize_peak","shape":7,"type":"BOOLEAN","widget":{"name":"normalize_peak"},"link":null},{"localized_name":"wav_pcm","name":"wav_pcm","shape":7,"type":"COMBO","widget":{"name":"wav_pcm"},"link":null},{"localized_name":"mp3_bitrate","name":"mp3_bitrate","shape":7,"type":"COMBO","widget":{"name":"mp3_bitrate"},"link":null}],"outputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","links":[12]},{"localized_name":"saved_path","name":"saved_path","type":"STRING","links":null}],"properties":{"aux_id":"snicolast/ComfyUI-IndexTTS2","ver":"0271de7c1d23404a64aa34c40a6ef966bd079d9e","Node name for S&R":"IndexTTS2SaveAudio","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.2.2"}},"widgets_values":["tts2","wav",false,"pcm16","320k"],"color":"#233","bgcolor":"#355"},{"id":23,"type":"PreviewAudio","pos":[9085.3916015625,1318.058349609375],"size":[270,88],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":12},{"localized_name":"audioUI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null}],"outputs":[],"properties":{"ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{}},"cnr_id":"comfy-core","ver":"0.3.63","Node name for S&R":"PreviewAudio"},"widgets_values":[]}],"links":[[6,12,0,3,0,"AUDIO"],[7,8,0,3,2,"EMOTION_VECTOR"],[9,18,0,3,1,"AUDIO"],[10,3,0,19,0,"AUDIO"],[12,19,0,23,0,"AUDIO"]],"groups":[{"id":1,"title":"1- Load Audio","bounding":[8291.05078125,628.3720092773438,304.4921875,738.3304443359375],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"2- Emotion Vectors","bounding":[8287.052734375,1384.3511962890625,703.796875,475.8990783691406],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"3- Save audio + parameters","bounding":[9070.134765625,851.9037475585938,314.7575988769531,575.6746826171875],"color":"#3f789e","font_size":24,"flags":{}},{"id":4,"title":"Advanced node (optional)","bounding":[7812.51513671875,844.84716796875,420,828.38623046875],"color":"#a1309b","font_size":24,"flags":{}}],"config":{},"extra":{"ue_links":[],"ds":{"scale":0.8769226950000009,"offset":[-7399.125787738929,-651.3843166520111]},"links_added_by_ue":[]},"version":0.4}