{
  "11": {
    "inputs": {
      "model_name": "umt5-xxl-enc-bf16.safetensors",
      "precision": "bf16",
      "load_device": "offload_device",
      "quantization": "disabled"
    },
    "class_type": "LoadWanVideoT5TextEncoder",
    "_meta": {
      "title": "WanVideo T5 Text Encoder Loader"
    }
  },
  "16": {
    "inputs": {
      "positive_prompt": [
        "152",
        0
      ],
      "negative_prompt": "è‰²è°ƒè‰³ä¸½ï¼Œè¿‡æ›ï¼Œé™æ€ï¼Œç»†èŠ‚æ¨¡ç³Šä¸æ¸…ï¼Œå­—å¹•ï¼Œé£æ ¼ï¼Œä½œå“ï¼Œç”»ä½œï¼Œç”»é¢ï¼Œé™æ­¢ï¼Œæ•´ä½“å‘ç°ï¼Œæœ€å·®è´¨é‡ï¼Œä½è´¨é‡ï¼ŒJPEGå‹ç¼©æ®‹ç•™ï¼Œä¸‘é™‹çš„ï¼Œæ®‹ç¼ºçš„ï¼Œå¤šä½™çš„æ‰‹æŒ‡ï¼Œç”»å¾—ä¸å¥½çš„æ‰‹éƒ¨ï¼Œç”»å¾—ä¸å¥½çš„è„¸éƒ¨ï¼Œç•¸å½¢çš„ï¼Œæ¯å®¹çš„ï¼Œå½¢æ€ç•¸å½¢çš„è‚¢ä½“ï¼Œæ‰‹æŒ‡èåˆï¼Œé™æ­¢ä¸åŠ¨çš„ç”»é¢ï¼Œæ‚ä¹±çš„èƒŒæ™¯ï¼Œä¸‰æ¡è…¿ï¼ŒèƒŒæ™¯äººå¾ˆå¤šï¼Œå€’ç€èµ°",
      "force_offload": true,
      "use_disk_cache": false,
      "device": "cpu",
      "t5": [
        "11",
        0
      ]
    },
    "class_type": "WanVideoTextEncode",
    "_meta": {
      "title": "WanVideo TextEncode"
    }
  },
  "22": {
    "inputs": {
      "model": "Wan2_2-I2V-A14B-HIGH_fp8_e4m3fn_scaled_KJ.safetensors",
      "base_precision": "bf16",
      "quantization": "fp8_e4m3fn_scaled",
      "load_device": "offload_device",
      "attention_mode": "sageattn",
      "block_swap_args": [
        "104",
        0
      ]
    },
    "class_type": "WanVideoModelLoader",
    "_meta": {
      "title": "WanVideo Model Loader"
    }
  },
  "27": {
    "inputs": {
      "steps": 8,
      "cfg": [
        "95",
        0
      ],
      "shift": 8.000000000000002,
      "seed": 945889148116789,
      "force_offload": true,
      "scheduler": "unipc",
      "riflex_freq_index": 0,
      "denoise_strength": 1,
      "batched_cfg": false,
      "rope_function": "comfy",
      "start_step": 0,
      "end_step": 4,
      "model": [
        "80",
        0
      ],
      "image_embeds": [
        "89",
        0
      ],
      "text_embeds": [
        "16",
        0
      ]
    },
    "class_type": "WanVideoSampler",
    "_meta": {
      "title": "WanVideo Sampler"
    }
  },
  "28": {
    "inputs": {
      "enable_vae_tiling": false,
      "tile_x": 272,
      "tile_y": 272,
      "tile_stride_x": 144,
      "tile_stride_y": 128,
      "normalization": "default",
      "vae": [
        "38",
        0
      ],
      "samples": [
        "90",
        0
      ]
    },
    "class_type": "WanVideoDecode",
    "_meta": {
      "title": "WanVideo Decode"
    }
  },
  "38": {
    "inputs": {
      "model_name": "Wan2_1_VAE_bf16.safetensors",
      "precision": "bf16"
    },
    "class_type": "WanVideoVAELoader",
    "_meta": {
      "title": "WanVideo VAE Loader"
    }
  },
  "39": {
    "inputs": {
      "blocks_to_swap": 20,
      "offload_img_emb": false,
      "offload_txt_emb": false,
      "use_non_blocking": false,
      "vace_blocks_to_swap": 1
    },
    "class_type": "WanVideoBlockSwap",
    "_meta": {
      "title": "WanVideo Block Swap"
    }
  },
  "56": {
    "inputs": {
      "lora": "Wan21_I2V_14B_lightx2v_cfg_step_distill_lora_rank64.safetensors",
      "strength": 3.0000000000000004,
      "low_mem_load": true,
      "merge_loras": false
    },
    "class_type": "WanVideoLoraSelect",
    "_meta": {
      "title": "WanVideo Lora Select"
    }
  },
  "60": {
    "inputs": {
      "frame_rate": 16,
      "loop_count": 0,
      "filename_prefix": "WanVideo2_2_I2V",
      "format": "video/h264-mp4",
      "pix_fmt": "yuv420p",
      "crf": 19,
      "save_metadata": true,
      "trim_to_audio": false,
      "pingpong": false,
      "save_output": true,
      "images": [
        "28",
        0
      ]
    },
    "class_type": "VHS_VideoCombine",
    "_meta": {
      "title": "Video Combine ğŸ¥ğŸ…¥ğŸ…—ğŸ…¢"
    }
  },
  "71": {
    "inputs": {
      "model": "Wan2_2-I2V-A14B-LOW_fp8_e4m3fn_scaled_KJ.safetensors",
      "base_precision": "bf16",
      "quantization": "fp8_e4m3fn_scaled",
      "load_device": "offload_device",
      "attention_mode": "sageattn",
      "block_swap_args": [
        "105",
        0
      ]
    },
    "class_type": "WanVideoModelLoader",
    "_meta": {
      "title": "WanVideo Model Loader"
    }
  },
  "79": {
    "inputs": {
      "model": [
        "93",
        0
      ],
      "lora": [
        "97",
        0
      ]
    },
    "class_type": "WanVideoSetLoRAs",
    "_meta": {
      "title": "WanVideo Set LoRAs"
    }
  },
  "80": {
    "inputs": {
      "model": [
        "92",
        0
      ],
      "lora": [
        "56",
        0
      ]
    },
    "class_type": "WanVideoSetLoRAs",
    "_meta": {
      "title": "WanVideo Set LoRAs"
    }
  },
  "89": {
    "inputs": {
      "width": [
        "146",
        0
      ],
      "height": [
        "147",
        0
      ],
      "num_frames": 81,
      "noise_aug_strength": 0,
      "start_latent_strength": 1.0000000000000002,
      "end_latent_strength": 1.0000000000000002,
      "force_offload": true,
      "fun_or_fl2v_model": false,
      "tiled_vae": false,
      "vae": [
        "38",
        0
      ],
      "start_image": [
        "143",
        0
      ]
    },
    "class_type": "WanVideoImageToVideoEncode",
    "_meta": {
      "title": "WanVideo ImageToVideo Encode"
    }
  },
  "90": {
    "inputs": {
      "steps": 8,
      "cfg": 1.0000000000000002,
      "shift": 8.000000000000002,
      "seed": 350691970461843,
      "force_offload": true,
      "scheduler": "unipc",
      "riflex_freq_index": 0,
      "denoise_strength": 1,
      "batched_cfg": false,
      "rope_function": "comfy",
      "start_step": 4,
      "end_step": -1,
      "model": [
        "79",
        0
      ],
      "image_embeds": [
        "89",
        0
      ],
      "text_embeds": [
        "16",
        0
      ],
      "samples": [
        "27",
        0
      ]
    },
    "class_type": "WanVideoSampler",
    "_meta": {
      "title": "WanVideo Sampler"
    }
  },
  "92": {
    "inputs": {
      "model": [
        "22",
        0
      ],
      "block_swap_args": [
        "39",
        0
      ]
    },
    "class_type": "WanVideoSetBlockSwap",
    "_meta": {
      "title": "WanVideo Set BlockSwap"
    }
  },
  "93": {
    "inputs": {
      "model": [
        "71",
        0
      ],
      "block_swap_args": [
        "137",
        0
      ]
    },
    "class_type": "WanVideoSetBlockSwap",
    "_meta": {
      "title": "WanVideo Set BlockSwap"
    }
  },
  "95": {
    "inputs": {
      "steps": 8,
      "cfg_scale_start": 2,
      "cfg_scale_end": 2,
      "interpolation": "linear",
      "start_percent": 0,
      "end_percent": 0.01
    },
    "class_type": "CreateCFGScheduleFloatList",
    "_meta": {
      "title": "Create CFG Schedule Float List"
    }
  },
  "97": {
    "inputs": {
      "lora": "Wan21_I2V_14B_lightx2v_cfg_step_distill_lora_rank64.safetensors",
      "strength": 1.0000000000000002,
      "low_mem_load": true,
      "merge_loras": false
    },
    "class_type": "WanVideoLoraSelect",
    "_meta": {
      "title": "WanVideo Lora Select"
    }
  },
  "104": {
    "inputs": {
      "blocks_to_swap": 40,
      "offload_img_emb": false,
      "offload_txt_emb": false,
      "use_non_blocking": true,
      "vace_blocks_to_swap": 0
    },
    "class_type": "WanVideoBlockSwap",
    "_meta": {
      "title": "WanVideo Block Swap"
    }
  },
  "105": {
    "inputs": {
      "blocks_to_swap": 40,
      "offload_img_emb": false,
      "offload_txt_emb": false,
      "use_non_blocking": true,
      "vace_blocks_to_swap": 0
    },
    "class_type": "WanVideoBlockSwap",
    "_meta": {
      "title": "WanVideo Block Swap"
    }
  },
  "137": {
    "inputs": {
      "blocks_to_swap": 20,
      "offload_img_emb": false,
      "offload_txt_emb": false,
      "use_non_blocking": false,
      "vace_blocks_to_swap": 1
    },
    "class_type": "WanVideoBlockSwap",
    "_meta": {
      "title": "WanVideo Block Swap"
    }
  },
  "142": {
    "inputs": {
      "image": "1660c7fc7ef3a740037188da2d41eb9e.jpg"
    },
    "class_type": "LoadImage",
    "_meta": {
      "title": "$image.image!:The image to generate the video, must be a url"
    }
  },
  "143": {
    "inputs": {
      "width": [
        "153",
        0
      ],
      "height": [
        "153",
        0
      ],
      "interpolation": "nearest",
      "method": "keep proportion",
      "condition": "always",
      "multiple_of": 0,
      "image": [
        "142",
        0
      ]
    },
    "class_type": "ImageResize+",
    "_meta": {
      "title": "Ã°  Image Resize"
    }
  },
  "144": {
    "inputs": {
      "value": "a/64",
      "a": [
        "143",
        1
      ]
    },
    "class_type": "SimpleMath+",
    "_meta": {
      "title": "ğŸ”§ Simple Math"
    }
  },
  "145": {
    "inputs": {
      "value": "a/64",
      "a": [
        "143",
        2
      ]
    },
    "class_type": "SimpleMath+",
    "_meta": {
      "title": "ğŸ”§ Simple Math"
    }
  },
  "146": {
    "inputs": {
      "value": "a*64",
      "a": [
        "144",
        0
      ]
    },
    "class_type": "SimpleMath+",
    "_meta": {
      "title": "ğŸ”§ Simple Math"
    }
  },
  "147": {
    "inputs": {
      "value": "a*64",
      "a": [
        "145",
        0
      ]
    },
    "class_type": "SimpleMath+",
    "_meta": {
      "title": "ğŸ”§ Simple Math"
    }
  },
  "151": {
    "inputs": {
      "text": "This is a Wan2.2 image-to-video workflow.\n \n Hint writing skills\n  Prompt word = movement + camera movement\nMotion description: By combining elements in the image (such as people or animals), describe the process of their dynamic movements, such as running or greeting. The degree and speed of the movement can be controlled by adjectives, such as fast or slow.\n  Camera movement: If there are specific requirements for the movement of the camera, use prompt words such as \"camera advance\" or \"camera left shift control\". If you want the camera not to change, you can emphasize it by using \"fixed camera\".\nThe prompt words can be written in both English and Chinese"
    },
    "class_type": "Text _O",
    "_meta": {
      "title": "MCP"
    }
  },
  "152": {
    "inputs": {
      "text": ""
    },
    "class_type": "Text _O",
    "_meta": {
      "title": "$prompt.text!:The prompt for video generation"
    }
  },
  "153": {
    "inputs": {
      "value": 512
    },
    "class_type": "easy int",
    "_meta": {
      "title": "$resolution.value:The resolution of the video, 512 at low resolution and 1280 at high resolution"
    }
  }
}